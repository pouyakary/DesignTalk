{"version":3,"file":"core.js","sourceRoot":"","sources":["../source/storage/model.ts","../source/storage/actions.ts","../source/globals/key.ts","../source/storage/base-model.ts","../source/render/editor/shape.tsx","../source/render/layers/shapes.tsx","../source/render/main.tsx","../source/storage/storage.ts","../source/main.ts","../source/render/editor/selection.tsx","../source/render/layers/selection.ts"],"names":[],"mappings":"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"}